import"../chunks/DsnmJJEf.js";import{i as Vs}from"../chunks/CHiPrc7u.js";import{o as ws,e as Q,s as Z}from"../chunks/UnYEAh3D.js";import{e as rs,b as xs,s as Se,h as R,a2 as ys,a as Ps,y as t,ar as Es,r as $s,H as Ms,c as ts,d as Ne,k as fe,a3 as Ts,a7 as Ss,f as Fe,i as Ns,g as ie,as as zs,at as B,au as ns,ab as os,_ as Is,av as ks,j as is,p as Bs,aw as Ds,ax as Os,ay as ze,az as vs,a5 as Rs,aA as qs,aa as Fs,aB as Hs,a0 as Ls,aC as Gs,aq as Us,v as Ys,aD as Js,aE as Ks,C as Ws,D as H,G as ae,I as O,J as Xs,O as A,K as C,M as d,aF as ge,aG as w,aH as Ie,aI as Qs,F as ke,P as Zs}from"../chunks/CFlVANVU.js";import{i as me}from"../chunks/CmHAaHou.js";import{r as Be}from"../chunks/ejW4-gH6.js";function re(e,a){return a}function js(e,a,s){for(var n=e.items,l=[],r=a.length,o=0;o<r;o++)qs(a[o].e,l,!0);var c=r>0&&l.length===0&&s!==null;if(c){var h=s.parentNode;Fs(h),h.append(s),n.clear(),G(e,a[0].prev,a[r-1].next)}Hs(l,()=>{for(var f=0;f<r;f++){var g=a[f];c||(n.delete(g.k),G(e,g.prev,g.next)),vs(g.e,!c)}})}function oe(e,a,s,n,l,r=null){var o=e,c={flags:a,items:new Map,first:null};{var h=e;o=R?Se(ys(h)):h.appendChild(rs())}R&&Ps();var f=null,g=!1,T=new Map,v=Es(()=>{var i=s();return Is(i)?i:i==null?[]:os(i)}),V,u;function y(){et(u,V,c,T,o,l,a,n,s),r!==null&&(V.length===0?f?is(f):f=Fe(()=>r(o)):f!==null&&Bs(f,()=>{f=null}))}xs(()=>{u??=Ls,V=t(v);var i=V.length;if(g&&i===0)return;g=i===0;let P=!1;if(R){var b=$s(o)===Ms;b!==(i===0)&&(o=ts(),Se(o),Ne(!1),P=!0)}if(R){for(var m=null,p,x=0;x<i;x++){if(fe.nodeType===Ts&&fe.data===Ss){o=fe,P=!0,Ne(!1);break}var M=V[x],S=n(M,x);p=He(fe,c,m,null,M,S,x,l,a,s),c.items.set(S,p),m=p}i>0&&Se(ts())}if(R)i===0&&r&&(f=Fe(()=>r(o)));else if(Ns()){var U=new Set,z=ie;for(x=0;x<i;x+=1){M=V[x],S=n(M,x);var Y=c.items.get(S)??T.get(S);Y?cs(Y,M,x):(p=He(null,c,null,null,M,S,x,l,a,s,!0),T.set(S,p)),U.add(S)}for(const[J,K]of c.items)U.has(J)||z.skipped_effects.add(K.e);z.add_callback(y)}else y();P&&Ne(!0),t(v)}),R&&(o=fe)}function et(e,a,s,n,l,r,o,c,h){var f=a.length,g=s.items,T=s.first,v=T,V,u=null,y=[],i=[],P,b,m,p;for(p=0;p<f;p+=1){if(P=a[p],b=c(P,p),m=g.get(b),m===void 0){var x=n.get(b);if(x!==void 0){n.delete(b),g.set(b,x);var M=u?u.next:v;G(s,u,x),G(s,x,M),De(x,M,l),u=x}else{var S=v?v.e.nodes_start:l;u=He(S,s,u,u===null?s.first:u.next,P,b,p,r,o,h)}g.set(b,u),y=[],i=[],v=u.next;continue}if(cs(m,P,p),(m.e.f&ze)!==0&&is(m.e),m!==v){if(V!==void 0&&V.has(m)){if(y.length<i.length){var U=i[0],z;u=U.prev;var Y=y[0],J=y[y.length-1];for(z=0;z<y.length;z+=1)De(y[z],U,l);for(z=0;z<i.length;z+=1)V.delete(i[z]);G(s,Y.prev,J.next),G(s,u,Y),G(s,J,U),v=U,u=J,p-=1,y=[],i=[]}else V.delete(m),De(m,v,l),G(s,m.prev,m.next),G(s,m,u===null?s.first:u.next),G(s,u,m),u=m;continue}for(y=[],i=[];v!==null&&v.k!==b;)(v.e.f&ze)===0&&(V??=new Set).add(v),i.push(v),v=v.next;if(v===null)continue;m=v}y.push(m),u=m,v=m.next}if(v!==null||V!==void 0){for(var K=V===void 0?[]:os(V);v!==null;)(v.e.f&ze)===0&&K.push(v),v=v.next;var ve=K.length;if(ve>0){var de=f===0?l:null;js(s,K,de)}}e.first=s.first&&s.first.e,e.last=u&&u.e;for(var ce of n.values())vs(ce.e);n.clear()}function cs(e,a,s,n){zs(e.v,a),e.i=s}function He(e,a,s,n,l,r,o,c,h,f,g){var T=(h&Ds)!==0,v=(h&Os)===0,V=T?v?B(l,!1,!1):ns(l):l,u=(h&ks)===0?o:ns(o),y={i:u,v:V,k:r,a:null,e:null,prev:s,next:n};try{if(e===null){var i=document.createDocumentFragment();i.append(e=rs())}return y.e=Fe(()=>c(e,V,u,f),R),y.e.prev=s&&s.e,y.e.next=n&&n.e,s===null?g||(a.first=y):(s.next=y,s.e.next=y.e),n!==null&&(n.prev=y,n.e.prev=y.e),y}finally{}}function De(e,a,s){for(var n=e.next?e.next.e.nodes_start:s,l=a?a.e.nodes_start:s,r=e.e.nodes_start;r!==null&&r!==n;){var o=Rs(r);l.before(r),r=o}}function G(e,a,s){a===null?e.first=s:(a.next=s,a.e.next=s&&s.e),s!==null&&(s.prev=a,s.e.prev=a&&a.e)}const ls=[...` 	
\r\f \v\uFEFF`];function st(e,a,s){var n=e==null?"":""+e;if(a&&(n=n?n+" "+a:a),s){for(var l in s)if(s[l])n=n?n+" "+l:l;else if(n.length)for(var r=l.length,o=0;(o=n.indexOf(l,o))>=0;){var c=o+r;(o===0||ls.includes(n[o-1]))&&(c===n.length||ls.includes(n[c]))?n=(o===0?"":n.substring(0,o))+n.substring(c+1):o=c}}return n===""?null:n}function tt(e,a){return e==null?null:String(e)}function he(e,a,s,n,l,r){var o=e.__className;if(R||o!==s||o===void 0){var c=st(s,n,r);(!R||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=s}else if(r&&l!==r)for(var h in r){var f=!!r[h];(l==null||f!==!!l[h])&&e.classList.toggle(h,f)}return r}function nt(e,a,s,n){var l=e.__style;if(R||l!==a){var r=tt(a);(!R||r!==e.getAttribute("style"))&&(r==null?e.removeAttribute("style"):e.style.cssText=r),e.__style=a}return n}function Oe(e,a,s=a){var n=new WeakSet;Gs(e,"input",async l=>{var r=l?e.defaultValue:e.value;if(r=Re(e)?qe(r):r,s(r),ie!==null&&n.add(ie),await Us(),r!==(r=a())){var o=e.selectionStart,c=e.selectionEnd;e.value=r??"",c!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(c,e.value.length))}}),(R&&e.defaultValue!==e.value||Ys(a)==null&&e.value)&&(s(Re(e)?qe(e.value):e.value),ie!==null&&n.add(ie)),Js(()=>{var l=a();if(e===document.activeElement){var r=Ks??ie;if(n.has(r))return}Re(e)&&l===qe(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function Re(e){var a=e.type;return a==="number"||a==="range"}function qe(e){return e===""?null:+e}function _e(e,a){if(!e)throw new Error(a||"Assertion failed")}function be(e,a,s=Number.EPSILON){return Math.abs(e-a)<s}function lt(e,a){console.log("=== Starting computePVC ===");const s=a.length,n=e[0]?.length||0;if(console.log(`Number of alternatives (m): ${s}`),console.log(`Number of voters (n): ${n}`),console.log("Alternatives:",a),console.log("Preferences matrix:",e),s===0||n===0)return console.log("Early return: empty alternatives or no voters"),[];const l=new Map;a.forEach((i,P)=>l.set(i,P)),console.log("Alternative to index mapping:",l),console.log("Converting preference matrix to profile format...");const r=[];for(let i=0;i<n;i++){const P=[];for(let b=0;b<s;b++){const m=e[b][i],p=l.get(m)??-1;_e(p!=-1),P.push(p)}console.log(`Voter ${i} preferences (as indices):`,P),r.push(P)}console.log("Complete profile (numeric):",r),console.log("Computing p_i values...");const o=s-1,c=(i,P)=>P===0?i:c(P,i%P),h=c(o,n);console.log(`Original fraction: (m-1)/n = ${o}/${n}`),console.log(`GCD of ${o} and ${n}: ${h}`);const f=o/h,g=n/h;console.log(`Reduced fraction: ${f}/${g}`);const T=f;console.log(`p_i (elimination count per voter): ${T}`),console.log("Initializing remaining alternatives with duplication...");let v=[];for(let i=0;i<s;i++)for(let P=0;P<g;P++)v.push(i);console.log(`Initial remainingAlts (each alt appears ${g} times):`,v);let V=new Map;for(let i=0;i<s;i++)V.set(i,g);console.log("Initial remainingCounts:",V),console.log(`
=== Starting sequential elimination rounds ===`);for(let i=0;i<n;i++){console.log(`
--- Round ${i+1}: Voter ${i} ---`),console.log("Remaining alts at start of round:",v),console.log("Remaining counts:",V);const P=r[i];console.log(`Voter ${i} preferences (indices):`,P);const b=[];for(const p of P){const x=V.get(p)||0;for(let M=0;M<x;M++)b.push(p)}console.log(`Voter ${i} remaining preferences (with duplicates):`,b);const m=b.slice(-T);console.log(`Alternatives to eliminate (${T} least preferred):`,m),m.forEach(p=>{_e(v.length>0,"Should have multiple alternatives remaining at start of round");const x=v.indexOf(p);console.log(`Removing alt ${p} at index ${x} from remainingAlts`),_e(x>-1),v.splice(x,1);const M=V.get(p)||0;M>1?(V.set(p,M-1),console.log(`Updated count for alt ${p}: ${M-1}`)):(V.delete(p),console.log(`Completely removed alt ${p} from counts`))}),console.log("Remaining alts after elimination:",v),console.log("Remaining counts after elimination:",V)}console.log(`
=== Final processing ===`),console.log("Final remainingAlts:",v);const u=new Set(v);console.log("Unique remaining alternatives (indices):",Array.from(u));const y=Array.from(u).map(i=>a[i]);return console.log("PVC result (alternative names):",y),console.log(`=== computePVC completed ===
`),y}function at(e,a,s,n){if(console.log(`trying to veto ${e} with coalition, `,a),a.length===0)return{canVeto:!1,preferredAlternatives:[]};const l=[],r=new Map;n.forEach((b,m)=>r.set(b,m));const o=n.length;for(const b of a){const m=[];for(let p=0;p<o;p++){const x=s[p][b],M=r.get(x)??-1;_e(M!=-1),m.push(M)}l.push(m)}const c=r.get(e);if(c===void 0)return{canVeto:!1,preferredAlternatives:[]};const h=new Set,f=l[0],g=f.indexOf(c);if(g===-1)return{canVeto:!1,preferredAlternatives:[]};for(let b=0;b<g;b++)h.add(f[b]);for(let b=1;b<l.length;b++){const m=l[b],p=m.indexOf(c);if(p===-1)return{canVeto:!1,preferredAlternatives:[]};const x=new Set;for(let S=0;S<p;S++)x.add(m[S]);const M=new Set;for(const S of h)x.has(S)&&M.add(S);h.clear(),M.forEach(S=>h.add(S))}const T=s[0]?.length||0,v=a.length,V=h.size,u=v*(o-1)/T,y=o-V,i=u>y||be(u,y),P=Array.from(h).map(b=>n[b]);return console.log(`T_size / n: ${v/T}`),console.log(`1-B_size / m: ${1-V/o}`),console.log(`canVeto: ${i}`),console.log("preferredAlternatives:",P),{canVeto:i,preferredAlternatives:P}}function as(e,a,s,n){const l=s.length,r=a[0]?.length||0;let o=[],c=[];for(let f=1;f<1<<r;f++){const g=[];for(let v=0;v<r;v++)f&1<<v&&g.push(v);const T=at(e,g,a,s);T.canVeto&&T.preferredAlternatives.length>0&&(o=g,c=T.preferredAlternatives)}const h={T:o.length,T_size:o.length,v_T:o.length/r*(l-1),B:c,lambda_B_over_P:c.length/l};return{coalition:o,selectedAlternative:e,preferredAlternatives:c,dashboardValues:h}}function rt(e,a){return e.length!==a.length||new Set(e).size!==e.length||e.some(n=>!n)?!1:e.every(n=>a.includes(n))}function ot(e){return Array.from({length:e},(a,s)=>String.fromCharCode(97+s))}var it=H('<input type="text" maxlength="1"/>'),vt=H('<div class="matrix-row svelte-1p4e0ss"></div>'),ct=H('<div role="button" tabindex="0"> </div>'),ft=H('<section class="section svelte-1p4e0ss"><div class="column-header svelte-1p4e0ss"><h3>PVC</h3> <p class="instruction svelte-1p4e0ss">Click on any alternative below to see a veto coalition</p></div> <div class="pvc-list-horizontal svelte-1p4e0ss"></div> <div class="legend svelte-1p4e0ss"><span class="legend-item svelte-1p4e0ss"><span class="border-box successive-border svelte-1p4e0ss"></span> Successive Elimination Result</span> <span class="legend-item svelte-1p4e0ss"><span class="color-box green svelte-1p4e0ss"></span> In PVC</span> <span class="legend-item svelte-1p4e0ss"><span class="color-box yellow svelte-1p4e0ss"></span> Not in PVC</span></div></section>'),dt=H("<div> </div>"),ut=H('<div class="veto-matrix-row svelte-1p4e0ss"></div>'),pt=H('<div class="coalition-arrow svelte-1p4e0ss"><div class="arrow-pointer svelte-1p4e0ss">↑</div> <div class="arrow-label svelte-1p4e0ss"></div></div>'),gt=H('<div class="analysis-section found svelte-1p4e0ss"><h4 class="svelte-1p4e0ss">Veto Coalition Found</h4> <div class="coalition-info svelte-1p4e0ss"><p class="svelte-1p4e0ss"><strong>Coalition Members (T):</strong> </p> <p class="svelte-1p4e0ss"><strong>Preferred Alternatives (B):</strong> </p></div></div> <div class="veto-matrix-section svelte-1p4e0ss"><h4 class="svelte-1p4e0ss">Veto Coalition Preference Matrix</h4> <div class="veto-matrix-container svelte-1p4e0ss"><div class="veto-matrix svelte-1p4e0ss"></div> <div class="coalition-arrows svelte-1p4e0ss"></div></div> <div class="veto-matrix-legend svelte-1p4e0ss"><span class="legend-item svelte-1p4e0ss"><span class="coalition-arrow-legend svelte-1p4e0ss">↑</span> Coalition Members</span> <span class="legend-item svelte-1p4e0ss"><span class="color-box selected-alt-legend svelte-1p4e0ss"></span> Vetoed Alternative</span> <span class="legend-item svelte-1p4e0ss"><span class="color-box preferred-alt-legend svelte-1p4e0ss"></span> Preferred Alternatives</span></div></div> <div class="metrics-section svelte-1p4e0ss"><div class="metrics-grid svelte-1p4e0ss"><div class="metric-item svelte-1p4e0ss"><div class="metric-symbol svelte-1p4e0ss">v(T)</div> <div class="metric-details svelte-1p4e0ss"><div class="metric-label svelte-1p4e0ss">Veto Power</div> <div class="metric-value svelte-1p4e0ss"> </div></div></div> <div class="metric-item svelte-1p4e0ss"><div class="metric-symbol svelte-1p4e0ss">m-|B|</div> <div class="metric-details svelte-1p4e0ss"><div class="metric-label svelte-1p4e0ss">Veto size</div> <div class="metric-value svelte-1p4e0ss"> </div></div></div></div></div> <div class="condition-result svelte-1p4e0ss"><div><span class="condition-text svelte-1p4e0ss"> </span> <span class="condition-status svelte-1p4e0ss"> </span></div></div> <div class="explainer-section svelte-1p4e0ss"><h5 class="svelte-1p4e0ss">Veto Power Explanation</h5> <ul class="svelte-1p4e0ss"><li class="svelte-1p4e0ss">To form a winning coalition, we need to eliminate <strong>m-1</strong> candidates (leaving 1 winner), so each of the <strong>n</strong> voters can veto up to <strong>(m-1)/n</strong> alternatives. This is the veto power of a voter.</li> <li class="svelte-1p4e0ss">A coalition <strong>T</strong> of voters has total veto power: <strong>v(T)=|T|*(m-1)/n</strong>.</li> <li class="svelte-1p4e0ss">An alternative is vetoed if the veto power of a coalition is at least the veto size: <strong>v(T) ≥ m - |B|</strong>.</li> <li class="svelte-1p4e0ss">In other words, the coalition has enough veto power to afford the veto size.</li></ul></div> <button class="clear-btn svelte-1p4e0ss">Clear Analysis</button>',1),mt=H(`<div class="analysis-section not-found svelte-1p4e0ss"><h4 class="svelte-1p4e0ss">No Veto Coalition Found</h4> <p>No coalition of voters can veto alternative <strong> </strong></p> <p class="no-veto-explanation svelte-1p4e0ss">This alternative cannot be eliminated through the proportional veto mechanism with the
							current preference profile.</p></div> <button class="clear-btn svelte-1p4e0ss">Clear Analysis</button>`,1),ht=H('<section class="section svelte-1p4e0ss"><div class="veto-dashboard svelte-1p4e0ss"><!></div></section>'),_t=H('<main class="container svelte-1p4e0ss"><h1>Proportional Veto Core Playground</h1> <section class="section svelte-1p4e0ss"><h2>Parameters</h2> <div class="inputs svelte-1p4e0ss"><label class="svelte-1p4e0ss">m (alternatives): <input type="number" min="1" max="26" class="svelte-1p4e0ss"/></label> <label class="svelte-1p4e0ss">n (voters): <input type="number" min="1" class="svelte-1p4e0ss"/></label></div> <div class="subsection svelte-1p4e0ss"><h3>Initialize Matrix</h3> <button class="svelte-1p4e0ss">Identical Preferences</button> <button class="svelte-1p4e0ss">Randomize</button></div></section> <section class="section svelte-1p4e0ss"><div class="column-header svelte-1p4e0ss"><h3>Voter Preference</h3> <p>Click on any cell to edit the alternative.</p></div> <div class="matrix svelte-1p4e0ss"></div> <button class="compute-btn svelte-1p4e0ss">Compute PVC</button></section> <!> <!> <footer class="contact-footer svelte-1p4e0ss"><p class="svelte-1p4e0ss">Contact: jeqin_chooi@college.harvard.edu</p></footer></main>');function yt(e,a){Ws(a,!1);let s=B(3),n=B(3),l=B([]),r=B([]),o=B(""),c=B([]),h=B([]),f=B(0),g=B([]),T=B(!1),v=B(!1);function V(){w(l,Array(t(s)).fill(null).map(()=>Array(t(n)).fill("")))}function u(){return ot(t(s))}function y(){const _=u();w(l,_.map(()=>Array(t(n)).fill("")));for(let E=0;E<t(n);E++)for(let $=0;$<t(s);$++)Ie(l,t(l)[$][E]=_[$]);w(l,[...t(l)]),w(T,!1),w(v,!1)}function i(){const _=u();w(l,_.map(()=>Array(t(n)).fill("")));for(let E=0;E<t(n);E++){const $=[..._].sort(()=>Math.random()-.5);for(let N=0;N<t(s);N++)Ie(l,t(l)[N][E]=$[N])}w(l,[...t(l)]),w(T,!1),w(v,!1)}function P(_){const E=t(l).map(N=>N[_]),$=u();return rt(E,$)}function b(){for(let _=0;_<t(n);_++)if(!P(_))return!1;return!0}function m(){const _=u(),E=[];for(const N of _)as(N,t(l),_).preferredAlternatives.length>0||E.push(N);w(r,E);const $=lt(t(l),_);w(p,$),w(T,!0),w(v,!1)}let p=B([]);function x(_){const E=u(),$=as(_,t(l),E,t(r));w(o,$.selectedAlternative),w(c,$.coalition),w(h,$.preferredAlternatives),w(f,$.dashboardValues.v_T),w(g,$.dashboardValues.B),w(v,!0)}function M(){w(o,""),w(c,[]),w(h,[]),w(f,0),w(g,[])}function S(){V(),w(r,[]),w(o,""),w(c,[]),w(h,[]),w(T,!1),w(v,!1)}function U(_,E,$){const N=$.target;console.log("preference changed"),N&&(Ie(l,t(l)[_][E]=N.value.toLowerCase()),w(l,[...t(l)]),console.log("preferences is now: ",t(l)))}ws(()=>{V()}),Vs();var z=_t(),Y=A(C(z),2),J=A(C(Y),2),K=C(J),ve=A(C(K));Be(ve),d(K);var de=A(K,2),ce=A(C(de));Be(ce),d(de),d(J);var Le=A(J,2),Ge=A(C(Le),2),fs=A(Ge,2);d(Le),d(Y);var Ae=A(Y,2),Ce=A(C(Ae),2);oe(Ce,5,()=>t(l),re,(_,E,$)=>{var N=vt();oe(N,5,()=>t(E),re,(q,j,I)=>{var k=it();Be(k);let D;ae(F=>D=he(k,1,"matrix-cell svelte-1p4e0ss",null,D,F),[()=>({invalid:!P(I)})]),Oe(k,()=>t(E)[I],F=>(t(E)[I]=F,Qs(()=>(t(E),t(l))))),Q("input",k,F=>U($,I,F)),O(q,k)}),d(N),O(_,N)}),d(Ce);var Ue=A(Ce,2);d(Ae);var Ye=A(Ae,2);{var ds=_=>{var E=ft(),$=A(C(E),2);oe($,5,u,re,(N,q)=>{var j=ct();let I;var k=C(j,!0);d(j),ae(D=>{I=he(j,1,"pvc-item svelte-1p4e0ss",null,I,D),Z(k,t(q))},[()=>({"in-pvc":t(r).includes(t(q)),"not-in-pvc":!t(r).includes(t(q)),highlighted:t(c).length>0&&t(o)===t(q),"successive-elimination":t(p).includes(t(q))})]),Q("click",j,()=>x(t(q))),O(N,j)}),d($),ge(2),d(E),O(_,E)};me(Ye,_=>{t(T)&&_(ds)})}var us=A(Ye,2);{var ps=_=>{var E=ht(),$=C(E),N=C($);{var q=I=>{var k=gt(),D=ke(k),F=A(C(D),2),ne=C(F),Ve=A(C(ne));d(ne);var ue=A(ne,2),gs=A(C(ue));d(ue),d(F),d(D);var we=A(D,2),Je=A(C(we),2),xe=C(Je);oe(xe,5,()=>t(l),re,(se,pe)=>{var W=ut();oe(W,5,()=>t(pe),re,(le,ee,te)=>{var L=dt();let X;var Te=C(L,!0);d(L),ae(Cs=>{X=he(L,1,"veto-matrix-cell svelte-1p4e0ss",null,X,Cs),Z(Te,t(ee))},[()=>({"veto-column":t(c).includes(te),"selected-alternative":t(c).includes(te)&&t(ee)===t(o),"preferred-alternative":t(c).includes(te)&&t(h).includes(t(ee))&&t(ee)!==t(o)})]),O(le,L)}),d(W),O(se,W)}),d(xe);var Ke=A(xe,2);oe(Ke,5,()=>Array(t(n)),re,(se,pe,W)=>{var le=Zs(),ee=ke(le);{var te=L=>{var X=pt();nt(X,`left: ${W*42+21}px;`);var Te=A(C(X),2);Te.textContent=`Voter ${W+1}`,d(X),O(L,X)};me(ee,L=>{t(c).includes(W)&&L(te)})}O(se,le)}),d(Ke),d(Je),ge(2),d(we);var ye=A(we,2),We=C(ye),Pe=C(We),Xe=A(C(Pe),2),Qe=A(C(Xe),2),ms=C(Qe,!0);d(Qe),d(Xe),d(Pe);var Ze=A(Pe,2),je=A(C(Ze),2),es=A(C(je),2),hs=C(es,!0);d(es),d(je),d(Ze),d(We),d(ye);var Ee=A(ye,2),$e=C(Ee),Me=C($e),_s=C(Me);d(Me);var ss=A(Me,2),bs=C(ss,!0);d(ss),d($e),d(Ee);var As=A(Ee,4);ae((se,pe,W,le,ee,te,L,X)=>{Z(Ve,` Voters ${se??""}`),Z(gs,` [${pe??""}]`),Z(ms,W),Z(hs,t(s)-t(g).length),he($e,1,`condition-check ${le??""}`,"svelte-1p4e0ss"),Z(_s,`${ee??""}
								${te??""}
								${L??""}`),Z(bs,X)},[()=>t(c).map(se=>se+1).join(", "),()=>t(h).join(", "),()=>Math.round(t(f)*1e3)/1e3,()=>t(f)>=t(s)-t(g).length||be(t(f),t(s)-t(g).length)?"satisfied":"not-satisfied",()=>Math.round(t(f)*1e3)/1e3,()=>t(f)>=t(s)-t(g).length||be(t(f),t(s)-t(g).length)?"≥":"<",()=>Math.round((t(s)-t(g).length)*1e3)/1e3,()=>t(f)>=t(s)-t(g).length||be(t(f),t(s)-t(g).length)?"✓ Veto Power ≥ Veto Size":"✗ Veto Power < Veto Size"]),Q("click",As,M),O(I,k)},j=I=>{var k=mt(),D=ke(k),F=A(C(D),2),ne=A(C(F)),Ve=C(ne,!0);d(ne),d(F),ge(2),d(D);var ue=A(D,2);ae(()=>Z(Ve,t(o))),Q("click",ue,M),O(I,k)};me(N,I=>{t(h).length>0?I(q):I(j,!1)})}d($),d(E),O(_,E)};me(us,_=>{t(v)&&t(o)&&_(ps)})}ge(2),d(z),ae(_=>Ue.disabled=_,[()=>!b()]),Oe(ve,()=>t(s),_=>w(s,_)),Q("change",ve,S),Oe(ce,()=>t(n),_=>w(n,_)),Q("change",ce,S),Q("click",Ge,y),Q("click",fs,i),Q("click",Ue,m),O(e,z),Xs()}export{yt as component};
